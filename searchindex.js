Search.setIndex({"docnames": ["config", "index", "install", "ortmodule"], "filenames": ["config.md", "index.rst", "install.md", "ortmodule.rst"], "titles": ["How to configure torch-ort", "TORCH ORT", "Install torch-ort", "ORTModule"], "terms": {"torch_ort": [0, 3], "import": 0, "debugopt": [0, 3], "model": [0, 3], "ortmodul": [0, 1], "transformermodel": 0, "ntoken": 0, "emsiz": 0, "nhead": 0, "d_hid": 0, "nlayer": 0, "dropout": 0, "save_onnx": 0, "true": [0, 3], "onnx_prefix": 0, "devic": [0, 2], "o": 0, "experiment": 0, "json_config": 0, "load_from_json": 0, "path_to_json": 0, "path": 0, "join": 0, "getcwd": 0, "ort_config": 0, "json": 0, "saveonnx": 0, "onnxprefix": 0, "ort_model": 0, "_torch_modul": 0, "The": [1, 2, 3], "packag": [1, 2], "integr": 1, "onnx": [1, 2, 3], "runtim": [1, 2, 3], "acceler": [1, 3], "pytorch": [1, 2, 3], "instal": 1, "pre": 1, "requisit": 1, "run": 1, "environ": 1, "us": [1, 3], "docker": 1, "test": 1, "your": 1, "you": 2, "need": 2, "machin": 2, "least": 2, "one": 2, "can": [2, 3], "local": 2, "By": 2, "8": 2, "cudnn": 2, "7": 2, "6": 2, "pip": 2, "ninja": 2, "onnxruntim": 2, "train": [2, 3], "f": 2, "http": 2, "download": 2, "ai": 2, "onnxruntime_nightly_cu102": 2, "html": 2, "0": 2, "onnxruntime_nightly_cu111": 2, "base": 2, "instruct": 2, "librari": 2, "rccl": 2, "org": 2, "whl": 2, "nightli": 2, "rocm4": 2, "torch_nightli": 2, "onnxruntime_nightly_rocm42": 2, "directori": 2, "contain": 2, "dockerfil": 2, "build": 2, "ensur": 2, "toolkit": 2, "i": [2, 3], "imag": 2, "cu102": 2, "cudnn7": 2, "devel": 2, "ubuntu18": 2, "04": 2, "t": [2, 3], "have": 2, "just": 2, "built": 2, "all": [2, 3], "name": [2, 3], "my": 2, "experi": 2, "latest": 2, "bin": 2, "bash": 2, "cu111": 2, "cudnn8": 2, "pytorch1": 2, "rocm42": 2, "rm": 2, "privileg": 2, "dev": 2, "kfd": 2, "dri": 2, "group": 2, "add": 2, "video": 2, "cap": 2, "sys_ptrac": 2, "secur": 2, "opt": 2, "seccomp": 2, "unconfin": 2, "onc": 2, "creat": 2, "either": 2, "execut": [2, 3], "follow": [2, 3], "step": [2, 3], "valid": 2, "correct": 2, "script": [2, 3], "wget": 2, "raw": 2, "githubusercont": 2, "com": 2, "main": 2, "bert_for_sequence_classif": 2, "py": 2, "extra": 2, "panda": 2, "sklearn": 2, "transform": 2, "expect": [2, 3], "warn": 2, "There": 2, "ar": 2, "some": 2, "class": 3, "wrap": 3, "torch": 3, "nn": 3, "modul": 3, "It": 3, "offload": 3, "forward": 3, "backward": 3, "pass": 3, "loop": 3, "its": 3, "optim": 3, "comput": 3, "graph": 3, "memori": 3, "usag": 3, "compon": 3, "faster": 3, "less": 3, "code": 3, "exampl": 3, "illustr": 3, "simpl": 3, "case": 3, "where": 3, "entir": 3, "origin": 3, "neuralnet": 3, "def": 3, "__init__": 3, "self": 3, "input_s": 3, "hidden_s": 3, "num_class": 3, "x": 3, "784": 3, "500": 3, "10": 3, "onli": 3, "chang": 3, "criterion": 3, "crossentropyloss": 3, "sgd": 3, "paramet": 3, "lr": 3, "1e": 3, "4": 3, "unchang": 3, "data": 3, "target": 3, "data_load": 3, "zero_grad": 3, "output": 3, "loss": 3, "also": 3, "part": 3, "intern": 3, "debug_opt": 3, "none": 3, "sourc": 3, "extend": 3, "user": 3, "": 3, "leverag": 3, "super": 3, "fast": 3, "engin": 3, "special": 3, "provid": 3, "along": 3, "other": 3, "option": 3, "debug": 3, "input": 3, "kwarg": 3, "deleg": 3, "first": 3, "call": 3, "perform": 3, "setup": 3, "check": 3, "dure": 3, "thi": 3, "determin": 3, "whether": 3, "For": 3, "reason": 3, "take": 3, "longer": 3, "than": 3, "subsequ": 3, "interupt": 3, "cannot": 3, "process": 3, "posit": 3, "variabl": 3, "keyword": 3, "argument": 3, "defin": 3, "type": 3, "method": 3, "valu": 3, "tensor": 3, "primit": 3, "return": 3, "from": 3, "support": 3, "includ": 3, "nest": 3, "sequenc": 3, "dictionari": 3, "add_modul": 3, "str": 3, "rais": 3, "ortmoduletorchmodelexcept": 3, "except": 3, "sinc": 3, "doe": 3, "ad": 3, "properti": 3, "access": 3, "appli": 3, "fn": 3, "callabl": 3, "overrid": 3, "mode": 3, "bool": 3, "state_dict": 3, "destin": 3, "prefix": 3, "keep_var": 3, "fals": 3, "load_state_dict": 3, "ordereddict": 3, "strict": 3, "register_buff": 3, "persist": 3, "register_paramet": 3, "param": 3, "get_paramet": 3, "get_buff": 3, "recurs": 3, "iter": 3, "named_paramet": 3, "tupl": 3, "buffer": 3, "named_buff": 3, "named_children": 3, "named_modul": 3, "arg": 3}, "objects": {"torch_ort": [[3, 0, 1, "", "ORTModule"]], "torch_ort.ORTModule": [[3, 1, 1, "", "add_module"], [3, 1, 1, "", "apply"], [3, 1, 1, "", "buffers"], [3, 1, 1, "", "forward"], [3, 1, 1, "", "get_buffer"], [3, 1, 1, "", "get_parameter"], [3, 1, 1, "", "load_state_dict"], [3, 2, 1, "", "module"], [3, 1, 1, "", "modules"], [3, 1, 1, "", "named_buffers"], [3, 1, 1, "", "named_children"], [3, 1, 1, "", "named_modules"], [3, 1, 1, "", "named_parameters"], [3, 1, 1, "", "parameters"], [3, 1, 1, "", "register_buffer"], [3, 1, 1, "", "register_parameter"], [3, 1, 1, "", "state_dict"], [3, 1, 1, "", "train"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:property"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "property", "Python property"]}, "titleterms": {"how": 0, "configur": 0, "torch": [0, 1, 2], "ort": [0, 1, 2], "log": 0, "level": 0, "save": 0, "onnx": 0, "file": 0, "Or": 0, "load": 0, "from": 0, "config": 0, "access": 0, "origin": 0, "modul": 0, "python": [1, 2], "api": [1, 3], "guid": 1, "instal": 2, "pre": 2, "requisit": 2, "run": 2, "environ": 2, "default": 2, "depend": 2, "explicitli": 2, "nvidia": 2, "cuda": 2, "10": 2, "2": 2, "11": 2, "1": 2, "amd": 2, "rocm": 2, "4": 2, "us": 2, "docker": 2, "gpu": 2, "test": 2, "your": 2, "ortmodul": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"How to configure torch-ort": [[0, "how-to-configure-torch-ort"]], "Log level": [[0, "log-level"]], "Save ONNX files": [[0, "save-onnx-files"]], "Or load from config": [[0, "or-load-from-config"]], "Access the original torch module": [[0, "access-the-original-torch-module"]], "TORCH ORT": [[1, "torch-ort"]], "Python API": [[1, null]], "Guides": [[1, null]], "Install torch-ort": [[2, "install-torch-ort"]], "Pre-requisites": [[2, "pre-requisites"]], "Run in a Python environment": [[2, "run-in-a-python-environment"]], "Default dependencies": [[2, "default-dependencies"]], "Explicitly install for NVIDIA CUDA 10.2": [[2, "explicitly-install-for-nvidia-cuda-10-2"]], "Explicitly install for NVIDIA CUDA 11.1": [[2, "explicitly-install-for-nvidia-cuda-11-1"]], "Explicitly install for AMD ROCm 4.2": [[2, "explicitly-install-for-amd-rocm-4-2"]], "Run using Docker": [[2, "run-using-docker"]], "NVIDIA GPUs": [[2, "nvidia-gpus"]], "CUDA 10.2": [[2, "cuda-10-2"]], "CUDA 11.1": [[2, "cuda-11-1"]], "AMD GPUs": [[2, "amd-gpus"]], "ROCm 4.2": [[2, "rocm-4-2"]], "Test your installation": [[2, "test-your-installation"]], "ORTModule": [[3, "ortmodule"]], "ORTModule API": [[3, "ortmodule-api"]]}, "indexentries": {"ortmodule (class in torch_ort)": [[3, "torch_ort.ORTModule"]], "add_module() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.add_module"]], "apply() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.apply"]], "buffers() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.buffers"]], "forward() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.forward"]], "get_buffer() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.get_buffer"]], "get_parameter() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.get_parameter"]], "load_state_dict() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.load_state_dict"]], "module (torch_ort.ortmodule property)": [[3, "torch_ort.ORTModule.module"]], "modules() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.modules"]], "named_buffers() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.named_buffers"]], "named_children() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.named_children"]], "named_modules() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.named_modules"]], "named_parameters() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.named_parameters"]], "parameters() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.parameters"]], "register_buffer() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.register_buffer"]], "register_parameter() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.register_parameter"]], "state_dict() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.state_dict"]], "train() (torch_ort.ortmodule method)": [[3, "torch_ort.ORTModule.train"]]}})